<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Guess the Number — Extraordinary</title>
<style>
:root{
  --bg1:#f6f7fb; --bg2:#eef6ff;
  --card:rgba(255,255,255,0.75);
  --accent:#3b82f6; --accent-2:#06b6d4;
  --muted:#6b7280;
  --success:#16a34a; --danger:#ef4444;
}
body.dark{--bg1:#1e293b;--bg2:#0f172a;--card:rgba(30,41,59,0.85);--accent:#facc15;--accent-2:#f97316;--muted:#94a3b8;--success:#22c55e;--danger:#ef4444;color:#f1f5f9;}
body.colorful{--bg1:#ffedea;--bg2:#fce7f3;--card:rgba(255,255,255,0.85);--accent:#f43f5e;--accent-2:#fbbf24;--muted:#9ca3af;--success:#10b981;--danger:#ef4444;}
*{box-sizing:border-box;}
html,body{height:100%;margin:0;font-family:Inter,system-ui;display:flex;flex-direction:column;background:linear-gradient(180deg,var(--bg1),var(--bg2));color:inherit;}
.wrap{display:flex;flex:1;overflow:hidden;transition:all 0.3s;}
.panel{background:var(--card);border-radius:18px;padding:22px;border:1px solid rgba(255,255,255,0.6);box-shadow:0 8px 30px rgba(16,24,40,0.08);backdrop-filter:blur(6px) saturate(120%);overflow:auto;margin:16px auto;}
.left-panel{display:flex;flex-direction:column;gap:18px;flex:1;}
.right-column{width:300px;flex-shrink:0;transform:translateX(100%);transition:transform 0.35s ease;position:relative;}
.right-column.visible{transform:translateX(0);}
.settings-btn{position:fixed;top:16px;right:16px;width:48px;height:48px;background:var(--accent);border-radius:8px;display:flex;align-items:center;justify-content:center;color:white;font-weight:bold;font-size:18px;cursor:pointer;z-index:1000;box-shadow:0 4px 12px rgba(0,0,0,0.15);}
header h1{margin:0;font-size:22px;letter-spacing:-0.2px;}
header p{margin:6px 0 0;color:var(--muted);font-size:13px;}
.game-area{display:flex;flex-direction:column;gap:18px;}
.big-card{display:flex;flex-direction:column;gap:12px;padding:18px;border-radius:14px;background:linear-gradient(180deg,rgba(250,250,255,0.85),rgba(245,249,255,0.8));border:1px solid rgba(59,130,246,0.08);}
.number-plate{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px;border-radius:12px;background:linear-gradient(90deg,rgba(255,255,255,0.9),rgba(250,250,255,0.9));box-shadow:0 6px 18px rgba(14,27,59,0.04);}
.controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap;}
input[type=number]{padding:10px 12px;border-radius:10px;border:1px solid rgba(15,23,42,0.06);width:120px;font-size:16px;}
input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{appearance:none;margin:0;}
button{cursor:pointer;border:0;padding:10px 14px;border-radius:10px;font-weight:600;}
.btn-primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;box-shadow:0 8px 18px rgba(59,130,246,0.18);}
.btn-ghost{background:transparent;border:1px solid rgba(15,23,42,0.06);color:var(--muted);}
.btn-danger{background:var(--danger);color:white;}
.guess-list{display:flex;flex-direction:column;gap:8px;max-height:220px;overflow:auto;}
.guess-item{display:flex;justify-content:space-between;padding:8px 10px;border-radius:8px;background:rgba(2,6,23,0.02);font-weight:600;}
.message{padding:12px;border-radius:10px;font-weight:700;display:none;}
.msg-warn{background:linear-gradient(90deg,#fff7ed,#fff1f0);color:var(--danger);border:1px solid rgba(239,68,68,0.06);}
.msg-success{background:linear-gradient(90deg,#ecfdf5,#f0fff7);color:var(--success);border:1px solid rgba(16,185,129,0.06);}
.progress-wrap{height:10px;background:rgba(2,6,23,0.04);border-radius:999px;overflow:hidden;}
.progress{height:100%;width:0%;border-radius:999px;background:linear-gradient(90deg,var(--accent),var(--accent-2));}
@media(max-width:900px){.wrap{flex-direction:column;}.right-column{position:fixed;top:0;right:0;height:100%;background:var(--card);z-index:999;box-shadow:-4px 0 20px rgba(0,0,0,0.12);}}
</style>
</head>
<body>
<canvas id="confetti"></canvas>
<div class="settings-btn" id="settingsBtn">&#9881;</div>
<div class="wrap">
  <main class="panel left-panel">
    <header>
      <h1>Guess the Number</h1>
      <p>Find the hidden number — polished UI, subtle glass style, delightful animations.</p>
    </header>
    <section class="game-area" aria-live="polite">
      <div class="big-card">
        <div class="number-plate">
          <div>
            <div class="hint">Range: <span id="rangeText">1–100</span></div>
            <div class="meta">Attempts left: <span id="attemptsLeft">10</span> · Best streak: <span id="bestStreak">0</span></div>
          </div>
          <div class="controls">
            <input id="guessInput" type="number" placeholder="Enter guess" min="1" aria-label="Enter your guess">
            <button id="guessBtn" class="btn-primary">Guess</button>
            <button id="hintBtn" class="btn-ghost">Hint</button>
          </div>
        </div>
        <div id="messageArea" class="message"></div>
        <div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap">
          <div style="flex:1">
            <div class="meta">Your guesses</div>
            <div class="guess-list" id="guessList" aria-live="polite"></div>
          </div>
          <div style="width:220px">
            <div class="meta">Progress</div>
            <div class="progress-wrap"><div class="progress" id="progressBar"></div></div>
          </div>
        </div>
      </div>
      <div style="display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap">
        <div style="display:flex;gap:8px;align-items:center">
          <button id="resetBtn" class="btn-ghost">Reset</button>
          <button id="newRoundBtn" class="btn-primary">New Round</button>
          <button id="giveUpBtn" class="btn-danger">Give Up</button>
        </div>
        <div class="meta">Round: <span id="roundCount">0</span> · Wins: <span id="winsCount">0</span></div>
      </div>
    </section>
  </main>
  <aside class="panel right-column" id="settingsPanel">
    <div><strong>Settings</strong><div class="meta">Adjust difficulty & themes</div></div>
    <div class="meta" style="margin-top:12px;">Theme</div>
    <div class="difficulty" role="radiogroup" aria-label="Theme">
      <label><input type="radio" name="theme" value="light" checked> Light</label>
      <label><input type="radio" name="theme" value="dark"> Dark</label>
      <label><input type="radio" name="theme" value="colorful"> Colorful</label>
    </div>
    <div class="meta" style="margin-top:12px;">Difficulty</div>
    <div class="difficulty" role="radiogroup" aria-label="Difficulty">
      <label><input type="radio" name="difficulty" value="easy" checked> Easy</label>
      <label><input type="radio" name="difficulty" value="medium"> Medium</label>
      <label><input type="radio" name="difficulty" value="hard"> Hard</label>
    </div>
  </aside>
</div>
<script>
const settingsBtn=document.getElementById('settingsBtn');
const settingsPanel=document.getElementById('settingsPanel');
settingsBtn.addEventListener('click',()=>settingsPanel.classList.toggle('visible'));

const guessInput=document.getElementById('guessInput');
const guessBtn=document.getElementById('guessBtn');
const hintBtn=document.getElementById('hintBtn');
const resetBtn=document.getElementById('resetBtn');
const newRoundBtn=document.getElementById('newRoundBtn');
const giveUpBtn=document.getElementById('giveUpBtn');

const rangeText=document.getElementById('rangeText');
const attemptsLeftEl=document.getElementById('attemptsLeft');
const guessList=document.getElementById('guessList');
const messageArea=document.getElementById('messageArea');
const progressBar=document.getElementById('progressBar');
const roundCountEl=document.getElementById('roundCount');
const winsCountEl=document.getElementById('winsCount');
const bestStreakEl=document.getElementById('bestStreak');

let min=1,max=100,target=0,attempts=0,maxAttempts=10,round=0,wins=0,bestStreak=0,streak=0;
let guesses=[];

function rand(min,max){return Math.floor(Math.random()*(max-min+1))+min;}
function setDifficulty(d){
  if(d==='easy'){min=1;max=50;maxAttempts=8;}
  else if(d==='medium'){min=1;max=100;maxAttempts=10;}
  else{min=1;max=200;maxAttempts=12;}
  rangeText.textContent=`${min}–${max}`;
  attemptsLeftEl.textContent=maxAttempts-attempts;
}
function newTarget(){
  target=rand(min,max);guesses=[];attempts=0;round++;
  roundCountEl.textContent=round;
  attemptsLeftEl.textContent=maxAttempts;
  guessList.innerHTML='';
  messageArea.style.display='none';
}
function showMessage(text,type='warn'){
  messageArea.style.display='block';
  messageArea.textContent=text;
  messageArea.className='message '+(type==='success'?'msg-success':'msg-warn');
  setTimeout(()=>{messageArea.style.opacity='';},1500);
}
function addGuess(g,verdict){
  const li=document.createElement('div');
  li.className='guess-item';
  li.innerHTML=`<span>#${guesses.length}</span><strong>${g}</strong><span style="color:${verdict==='correct'?'var(--success)':(verdict==='low'?'var(--danger)':'var(--muted)')}">${verdict}</span>`;
  guessList.prepend(li);
}
function updateProgress(){
  if(guesses.length===0){progressBar.style.width='0%';return;}
  const last=guesses[guesses.length-1];
  const distance=Math.abs(target-last);
  const maxDist=Math.max(Math.abs(target-min),Math.abs(max-target));
  progressBar.style.width=Math.round(Math.max(0,1-(distance/maxDist))*100)+'%';
}
function handleGuess(){
  const val=Number(guessInput.value);
  if(!val||isNaN(val)) return showMessage('Enter a valid number','warn');
  if(val<min||val>max) return showMessage(`Enter between ${min} and ${max}`,'warn');
  attempts++;guesses.push(val);
  attemptsLeftEl.textContent=Math.max(0,maxAttempts-attempts);
  if(val===target){addGuess(val,'correct');wins++;streak++;bestStreak=Math.max(bestStreak,streak);showMessage(`Correct! You found ${target}.`,'success');}
  else if(attempts>=maxAttempts){addGuess(val,val<target?'low':'high');showMessage(`Out of attempts — number was ${target}`,'warn');streak=0;}
  else{addGuess(val,val<target?'low':'high');showMessage(val<target?'Try higher':'Try lower','warn');}
  bestStreakEl.textContent=streak;
  updateProgress();guessInput.value='';guessInput.focus();
}
guessBtn.addEventListener('click',handleGuess);
guessInput.addEventListener('keydown',e=>{if(e.key==='Enter') handleGuess();});
hintBtn.addEventListener('click',()=>{if(guesses.length===0)return showMessage('No guesses yet','warn');const last=guesses[guesses.length-1];showMessage(last<target?'Aim higher':'Aim lower','warn');});
newRoundBtn.addEventListener('click',()=>newTarget());
resetBtn.addEventListener('click',()=>location.reload());
giveUpBtn.addEventListener('click',()=>{showMessage(`You gave up — number was ${target}`,'warn');streak=0;bestStreakEl.textContent=streak;});

document.querySelectorAll('input[name="difficulty"]').forEach(inp=>{inp.addEventListener('change',e=>{setDifficulty(e.target.value);newTarget();})});
document.querySelectorAll('input[name="theme"]').forEach(inp=>{inp.addEventListener('change',e=>{document.body.className=e.target.value;})});

setDifficulty('medium');newTarget();
</script>
</body>
</html>
